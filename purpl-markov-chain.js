var MarkovChain=function(t){var r={};function e(n){if(r[n])return r[n].exports;var s=r[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var s in t)e.d(n,s,function(r){return t[r]}.bind(null,s));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=0)}([function(t,r){class e{constructor(t=3,r="%startf%",e="%endf%",n=" "){this.nGrams=t>1?t:3,this._start=`${r} `,this._end=` ${e}`,this.separation=n,this.corpus=[]}get start(){return this._start.trim()}get end(){return this._end.trim()}update(t){if(0===t.trim().length)return this;const r=this._trim(`${this._start.repeat(this.nGrams)} ${t} ${this._end.repeat(this.nGrams)}`).split(this.separation);for(let t in r){const e=Number(t);e<r.length-(this.nGrams-1)&&this.corpus.push(r.slice(e,e+this.nGrams))}return this}generate(t=this._start){if(0===this.corpus.length)return"";const r=[t.trim()];for(;r[r.length-1]!==this._end.trim();){const t=this.corpus.filter(t=>t[0]===r[r.length-1]),e=t[Math.floor(Math.random()*t.length)];r.push(...e.slice(1))}return r.join(this.separation).replace(new RegExp(this._start,"g"),"").replace(new RegExp(this._end,"g"),"").trim()}_trim(t){return t.replace(/\s\s+/g," ").trim()}toJSON(){return{nGrams:this.nGrams,start:this.start,end:this.end,separation:this.separation,corpus:[...this.corpus]}}static fromJSON(t){const r=new e(t.nGrams,t.start,t.end,t.separation);return r.corpus=[...t.corpus],r}}t.exports=e}]);